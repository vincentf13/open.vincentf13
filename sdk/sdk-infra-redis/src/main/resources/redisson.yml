clusterServersConfig:
  # 啟用 Redis Cluster 模式，需指定所有節點位址（主從都可列）
  nodeAddresses:
    - redis://infra-redis-0.infra-redis-headless.default.svc.cluster.local:6379
    - redis://infra-redis-1.infra-redis-headless.default.svc.cluster.local:6379
    - redis://infra-redis-2.infra-redis-headless.default.svc.cluster.local:6379
  scanInterval: 2000                 # slot 重新掃描間隔（毫秒）
 #  password: your_password            # 若無密碼可刪除此行
  readMode: MASTER                    # 一致性讀取可改為 MASTER
  subscriptionMode: SLAVE            # Pub/Sub 訂閱走從節點
  loadBalancer: !<org.redisson.connection.balancer.RoundRobinLoadBalancer> {}
  retryAttempts: 3                   # 指令最大重試次數
  retryInterval: 1500                # 重試間隔（毫秒）
  failedSlaveCheckInterval: 60000    # 從節點健康檢查間隔（毫秒）
  failedSlaveReconnectionInterval: 3000
  timeout: 3000                      # 指令逾時（毫秒）
  connectTimeout: 10000              # 連線建立逾時（毫秒）
  idleConnectionTimeout: 10000       # 閒置連線關閉時間（毫秒）
  pingConnectionInterval: 0          # ping 連線心跳，0 表示關閉
threads: 16                          # Redisson 主執行緒數（建議 = CPU 核心數）
nettyThreads: 32                     # Netty I/O 執行緒（建議 = 核心數 * 2）
codec: !<org.redisson.codec.JsonJacksonCodec> {}
clientName: app-redisson
lockWatchdogTimeout: 30000           # 分散式鎖看門狗自動續期時間（毫秒）
