# =========================================================
# Maven Daemon (mvnd) \u5168\u57DF\u9AD8\u6548\u69CB\u5EFA\u914D\u7F6E
# =========================================================

# \u4F9D\u7167 CPU \u6838\u5FC3\u6578\u81EA\u52D5\u914D\u7F6E\u57F7\u884C\u7DD2\uFF0C\u4E26\u555F\u7528 Smart Builder
mvnd.threads=1C

# \u4FDD\u6301 daemon \u6696\u6A5F\u72C0\u614B\uFF0C\u52A0\u5FEB\u91CD\u8907\u69CB\u5EFA\u555F\u52D5\u6642\u9593
mvnd.keepAlive=2m
mvnd.idleTimeout=4h

# \u555F\u7528 Maven Build Cache \u4E26\u5171\u4EAB\u81F3\u4F7F\u7528\u8005\u76EE\u9304
mvnd.build.cache.enabled=true
maven.build.cache.directory=${user.home}/.m2/maven-build-cache

# \u63D0\u9AD8 Artifact \u4E0B\u8F09\u8207\u89E3\u6790\u4F75\u884C\u5EA6
mvnd.artifact.threads=32
maven.wagon.httpconnectionManager.maxTotal=128
maven.wagon.httpconnectionManager.maxPerRoute=32

# \u555F\u7528\u589E\u91CF\u7DE8\u8B6F
mvnd.compiler.useIncrementalCompilation=true

# \u7CBE\u7C21\u50B3\u8F38\u65E5\u8A8C\u6E1B\u5C11 I/O \u963B\u585E
org.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn

# =========================================================
# \u69CB\u5EFA\u512A\u5316\uFF1A\u8DF3\u904E\u975E\u5FC5\u8981\u6B65\u9A5F\uFF08\u8996\u9700\u6C42\u555F\u7528\uFF09
# =========================================================

# \u5B8C\u5168\u8DF3\u904E\u6E2C\u8A66\u7DE8\u8B6F\u8207\u57F7\u884C
#maven.test.skip=true

# \u8DF3\u904E Javadoc \u751F\u6210
maven.javadoc.skip=true

# \u8DF3\u904E\u7A0B\u5F0F\u78BC\u98A8\u683C\u6AA2\u67E5 (Checkstyle)
checkstyle.skip=true

# \u8DF3\u904E\u69CB\u5EFA\u898F\u5247\u6AA2\u67E5 (Enforcer Plugin)
enforcer.skip=true

# =========================================================
# JVM \u53C3\u6578\uFF08\u4FDD\u6301\u8207 .mvn/jvm.config \u4E00\u81F4\uFF09
# =========================================================
mvnd.jvmArgs=-Xms1g -Xmx4g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:+ParallelRefProcEnabled -XX:+TieredCompilation -XX:+UseStringDeduplication -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp/mvn_oom.hprof -XX:+ExitOnOutOfMemoryError

# \u82E5\u9700\u81EA\u8A02 daemon \u8CC7\u6599\u593E\uFF0C\u53EF\u5728\u57F7\u884C mvnd \u6642\u52A0\u4E0A\uFF1A
#   MVND_OPTS="-Dmvnd.daemonStorage=<path>" mvnd <goal>
